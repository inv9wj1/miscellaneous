router.post("/renameSingleFile", async (req, res) => {
  console.log("Inside MF router post /postsojobs");
  console.log("req.body: ", req.body);

  console.log("fileName: ", req.body.fileName);
  console.log("fileNameOld: ", req.body.fileNameOld);
  console.log("isMember: ", req.body.isMember);
  console.log("folder: ", req.body.folderName);
  //# TODO - get job name from req.body and update command

  let command = `ex 'SYSSHR.ZOOPS.CLIST(SOOPS)' 'SOJOB'`;
  try {
    //const session = zowe.ZosmfSession.createSessCfgFromArgs(profile);
    const sessCfg = zowe.ZosmfSession.createSessCfgFromArgs(profile);
    const sessCfgWithCreds =
      await ProfileInfo.ConnectionPropsForSessCfg.addPropsOrPrompt(
        sessCfg,
        profile
      );
    const session = new ProfileInfo.Session(sessCfgWithCreds);

    if (req.body.isMember) {
      console.log("performing rename dataset member");
      //below is to rename a dataset member
      let response = await Rename.dataSetMember(
        session,
        req.body.folderName,
        req.body.fileNameOld,
        req.body.fileName
      );
      // let response = await Rename.rename(session, "SYSSHR.ZOOPS.CLIST(FILESGAN)", { beforeDataSetName:"SYSSHR.ZOOPS.CLIST",beforeMemberName:"SYSSHR.ZOOPS.CLIST('FILESPV6')" });
      console.log(response);
      res.status(200).json(response);

      //dataset =  SYSSHR.ZOOPS.CLIST = req.body.filename
      //beforemembername =  FILESPV6
      //afteremebername  = FILESPV5
    } else {
      console.log("performing rename dataset");
      //below is to rename a datasetname ps or pds
      let response = await Rename.dataSet(
        session,
        req.body.fileNameOld,
        req.body.fileName
      );

      console.log(response);
      res.status(200).json(response);
    }
  } catch (err) {
    console.log(err);
    res.status(500).json(err);
  }
});
